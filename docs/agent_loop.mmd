stateDiagram-v2
    [*] --> Idle
    
    Idle --> SignalDetection : Market Data Update
    SignalDetection --> RiskAssessment : Signal Generated
    RiskAssessment --> ApprovalPending : Risk Check Passed
    RiskAssessment --> Idle : Risk Check Failed
    
    ApprovalPending --> OrderExecution : Manual Approval
    ApprovalPending --> Idle : Manual Rejection
    
    OrderExecution --> OrderMonitoring : Order Placed
    OrderMonitoring --> PositionManagement : Order Filled
    OrderMonitoring --> Idle : Order Cancelled/Expired
    
    PositionManagement --> Idle : Position Closed
    PositionManagement --> SignalDetection : New Signal
    
    state SignalDetection {
        [*] --> DataCollection
        DataCollection --> Analysis
        Analysis --> SignalGeneration
        SignalGeneration --> [*]
    }
    
    state RiskAssessment {
        [*] --> PositionSizing
        PositionSizing --> RiskCalculation
        RiskCalculation --> ComplianceCheck
        ComplianceCheck --> [*]
    }
    
    state OrderExecution {
        [*] --> OrderValidation
        OrderValidation --> ExchangeSubmission
        ExchangeSubmission --> Confirmation
        Confirmation --> [*]
    }
    
    state PositionManagement {
        [*] --> StopLossMonitoring
        StopLossMonitoring --> TakeProfitMonitoring
        TakeProfitMonitoring --> ExitSignalDetection
        ExitSignalDetection --> [*]
    } 